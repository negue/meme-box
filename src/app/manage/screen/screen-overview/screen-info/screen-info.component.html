<div class="infoHolder">
  <div class="titleRow">
    <h2 class="mat-h2 titleName">{{info.name}}</h2>
    <mat-icon svgIcon="screen"></mat-icon>
  </div>

  <div class="formFieldRow">
    <mat-form-field class="matFormField">
      <label class="inputLabel--hidden" for="input-url">Screen URL</label>
      <input [value]="info.url" matInput class="inputUrl" id="input-url" readonly type="text"/>
      <button mat-button
              matSuffix
              (click)="copyURL()"
              [attr.aria-label]="'Copy URL'"
              class="copyUrlButton">
        <mat-icon svgIcon="content_copy"></mat-icon>
        Copy URL
      </button>
    </mat-form-field>
  </div>

  <div class="actionButtons">
    <button (click)="onEdit.emit()" color="accent" mat-flat-button>
      <mat-icon svgIcon="edit"></mat-icon>
      Edit Name
    </button>
    <button (click)="onPreview.emit()" color="primary" mat-button>
      <mat-icon svgIcon="preview"></mat-icon>
      Preview
    </button>
  </div>

  <ng-container *ngIf="clipList$ | async as clipList">

    <div class="actionButtons">
      <button (click)="onEditAssignments.next()"
              class="actionButtons--single"
              color="accent"
              mat-flat-button>
        <mat-icon svgIcon="playlist_add"></mat-icon>
        {{ clipList.length === 0 ? 'Assign Media' : 'Edit Media' }}
      </button>
    </div>

    <div class="mediaList">
      <table class="matTable">
        <tr *ngFor="let entry of clipList;">
          <td>
            <app-clip-type [type]="entry.type"></app-clip-type>
          </td>
          <td>{{entry.name}}</td>
          <td class="mediaList__settingsCell">
            <button (click)="onEditScreenClipOptions.emit(entry)"
                    class="mediaList__settingsCellButton"
                    mat-icon-button>
              <mat-icon svgIcon="preview"></mat-icon>
            </button>
          </td>
          <td class="mediaList__settingsCell">
            <button (click)="onEditScreenClipOptions.emit(entry)"
                    class="mediaList__settingsCellButton"
                    mat-icon-button>
              <mat-icon svgIcon="settings"></mat-icon>
            </button>
          </td>
        </tr>
      </table>
    </div>
  </ng-container>

  <button (click)="onDelete.emit()" class="deleteScreenButton" color="warn" mat-flat-button>
    <mat-icon svgIcon="delete"></mat-icon>
    Delete Screen
  </button>
</div>

